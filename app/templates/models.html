{% extends "base.html" %}

{% block title %}思维模型库 - AI思维模型分析系统{% endblock %}

{% block content %}
<div class="container">
    <!-- 页面标题 -->
    <div class="text-center mb-5">
        <h1 class="display-4">思维模型库</h1>
        <p class="lead">探索各种思维模型，找到最适合您的分析工具</p>
    </div>

    <!-- 模型分类导航 -->
    <ul class="nav nav-pills mb-4 justify-content-center" id="modelTabs" role="tablist">
        {% for category in categories %}
        <li class="nav-item" role="presentation">
            <button class="nav-link {% if loop.first %}active{% endif %}" 
                    id="{{ category }}-tab" 
                    data-bs-toggle="pill" 
                    data-bs-target="#{{ category }}" 
                    type="button" role="tab">
                {{ category_names[category] }}
            </button>
        </li>
        {% endfor %}
    </ul>

    <!-- 模型列表 -->
    <div class="tab-content" id="modelTabContent">
        {% for category in categories %}
        <div class="tab-pane fade {% if loop.first %}show active{% endif %}" 
             id="{{ category }}" role="tabpanel">
            <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
                {% for model in models[category] %}
                <div class="col">
                    <div class="card h-100 model-card">
                        <div class="card-header">
                            <h5 class="card-title mb-0">{{ model.name }}</h5>
                            <small class="model-category">{{ category_names[category] }}</small>
                        </div>
                        <div class="card-body">
                            <p class="card-text">{{ model.description }}</p>
                            
                            <!-- 使用统计 -->
                            <div class="model-stats mb-3">
                                <small class="text-muted">
                                    <i class="fas fa-chart-line me-1"></i>
                                    使用次数: {{ model.effectiveness_stats.usage_count }}
                                </small>
                                <br>
                                <small class="text-muted">
                                    <i class="fas fa-star me-1"></i>
                                    平均评分: {{ "%.1f"|format(model.effectiveness_stats.average_rating) }}
                                </small>
                            </div>
                            
                            <!-- 关键特征 -->
                            <div class="model-features mb-3">
                                <h6>关键特征</h6>
                                <div class="d-flex flex-wrap gap-2">
                                    {% for feature in model.key_features %}
                                    <span class="badge bg-light text-dark">{{ feature }}</span>
                                    {% endfor %}
                                </div>
                            </div>
                            
                            <!-- 适用场景 -->
                            <div class="model-scenarios">
                                <h6>适用场景</h6>
                                <ul class="list-unstyled">
                                    {% for scenario in model.application_scenarios %}
                                    <li><i class="fas fa-check-circle text-success me-2"></i>{{ scenario }}</li>
                                    {% endfor %}
                                </ul>
                            </div>
                        </div>
                        <div class="card-footer">
                            <button class="btn btn-primary w-100" 
                                    onclick="location.href='{{ url_for('main.index', model_id=model.id) }}'">
                                <i class="fas fa-play me-2"></i>使用此模型
                            </button>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
        {% endfor %}
    </div>

    <!-- 使用指南 -->
    <div class="card mt-5">
        <div class="card-header">
            <h5 class="mb-0">思维模型使用指南</h5>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-6">
                    <h6><i class="fas fa-book me-2"></i>如何选择合适的模型</h6>
                    <ol>
                        <li>明确您的问题类型和目标</li>
                        <li>查看模型的适用场景</li>
                        <li>参考模型的使用统计和评分</li>
                        <li>考虑问题的复杂度和时间限制</li>
                        <li>可以尝试多个模型进行对比</li>
                    </ol>
                </div>
                <div class="col-md-6">
                    <h6><i class="fas fa-lightbulb me-2"></i>使用技巧</h6>
                    <ul>
                        <li>详细描述问题背景和目标</li>
                        <li>按照模型步骤逐步分析</li>
                        <li>结合可视化图表理解结果</li>
                        <li>根据建议制定具体行动计划</li>
                        <li>记得提供反馈以帮助改进</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
    // 初始化工具提示
    var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
    tooltipTriggerList.map(function(tooltipTriggerEl) {
        return new bootstrap.Tooltip(tooltipTriggerEl);
    });
</script>
{% endblock %} 